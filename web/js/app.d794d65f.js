(function(){"use strict";var e={1458:function(e,n,t){var o=t(2856),r=t(4927),a=t.n(r),i=function(){var e=this,n=e._self._c;return n("div",{attrs:{id:"app"}},[n("UploadMarkdown")],1)},l=[],d=function(){var e=this,n=e._self._c;return n("div",[n("el-container",[n("el-header",[n("h1",[e._v("Upload PDF and Get Markdown")])]),n("el-main",[n("div",{staticClass:"flex-container"},[n("div",{staticClass:"upload-section"},[n("el-upload",{staticClass:"upload-demo",attrs:{drag:"","http-request":e.uploadFile,action:"http://dummy-url",multiple:"","on-change":e.handleFileChange,"before-upload":e.beforeUpload}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传PDF文件")])]),e.loading?n("div",{staticClass:"loading"},[e._v("Loading...")]):e._e(),e.error?n("div",{staticClass:"error"},[n("el-alert",{attrs:{title:e.error,type:"error","show-icon":""}})],1):e._e()],1),e.markdownContent?n("div",{staticClass:"markdown",domProps:{innerHTML:e._s(e.parsedMarkdownContent)}}):e._e()])])],1)],1)},s=[],u=t(417),c=t(4273),p=t(9987),f=t.n(p),h={name:"UploadMarkdown",data(){return{selectedFile:null,markdownContent:"# Markdown content will be displayed here.",loading:!1,error:null,markdownIt:null}},computed:{parsedMarkdownContent(){return this.renderMarkdown(this.markdownContent)}},created(){this.markdownIt=(new c.A).use(f())},mounted(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css",document.head.appendChild(e)},methods:{handleFileChange(e){this.selectedFile=e.raw},beforeUpload(e){return this.selectedFile=e,this.uploadFile({file:e,onProgress:()=>{},onSuccess:()=>{},onError:()=>{}}),!1},async uploadFile({file:e,onProgress:n,onSuccess:t,onError:o}){const r=new FormData;r.append("file",e),this.loading=!0,this.error=null;const a=this.$loading({lock:!0,text:"Loading...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});try{const e=await u.A.post("/pdf-extract",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);n({percent:t})}});console.log("Server response:",e.data),this.markdownContent=e.data.markdown||"",console.log("Updated markdownContent:",this.markdownContent),t(e.data)}catch(i){this.error="Error uploading file: "+i.message,o(i)}finally{this.loading=!1,a.close()}},renderMarkdown(e){return this.markdownIt.render(e)}}},m=h,v=t(1656),g=(0,v.A)(m,d,s,!1,null,"2c2c45ac",null),w=g.exports,k={name:"App",components:{UploadMarkdown:w}},b=k,_=(0,v.A)(b,i,l,!1,null,null,null),C=_.exports;o["default"].use(a()),o["default"].config.productionTip=!1,new o["default"]({render:e=>e(C)}).$mount("#app")}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(n,o,r,a){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],a=e[u][2];for(var l=!0,d=0;d<o.length;d++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[d])}))?o.splice(d--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var s=r();void 0!==s&&(n=s)}}return n}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,r,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var r,a,i=o[0],l=o[1],d=o[2],s=0;if(i.some((function(n){return 0!==e[n]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(d)var u=d(t)}for(n&&n(o);s<i.length;s++)a=i[s],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},o=self["webpackChunkpdf_extract_ui"]=self["webpackChunkpdf_extract_ui"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(1458)}));o=t.O(o)})();
//# sourceMappingURL=app.d794d65f.js.map